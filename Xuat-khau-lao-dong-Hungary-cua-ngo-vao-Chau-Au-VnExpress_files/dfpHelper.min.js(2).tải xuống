(function(){
    "use strict"; 

    window.mobilecheck = function() {
      var check = false;
      (function(a){if(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))) check = true;})(navigator.userAgent||navigator.vendor||window.opera);
      return check;
    };
    
    function dfpPostToHelper($dfpId, $dfpType,$dfpSize,$dfpQuery)
    {         
        window.top.postMessage({
          cmd: 'dfpHelperJs', 
            id: $dfpId,
            type: $dfpType,
            size: $dfpSize,
            query: $dfpQuery,
            params: {
              display: 'block'                    
          }
        }, '*');    
      }

    var _detectMobile = window.mobilecheck();
    onDomReadyFunction();
    function onDomReadyFunction(e){
        //'ione.vnexpress.net'
        if(location.host === 'ione.vnexpress.net'){
            var _topDiv = document.getElementById('div-gpt-ad-1531105814734-0');
            if(_topDiv){
               // _topDiv.style.display = 'flex';
               _topDiv.style.justifyContent = 'center';                
                //flagInitLoad = true;                  
            }
        }


        if(location.host === 'vm.vnexpress.net'){
            try{
                document.getElementById('VM2020_SM_1920x270').style.width = '100%';
                document.getElementById('VM2020_SM_1920x270').style.display = 'flex';
                document.getElementById('VM2020_SM_1920x270').style.justifyContent = 'center';
            }catch(e){}
            
        }

        if((location.host === 'vnexpress.net' || location.host === 'wcoin.fpt.com') && _detectMobile == true)
        {
            try{                
                document.querySelectorAll('.banner_mobile_300x250').forEach(function(val){
                    val.querySelector('.inner_ads').style.width = '100%';
                    val.querySelector('.inner_ads').style.display = 'flex';
                    val.querySelector('.inner_ads').style.flexDirection = 'column';
                    val.querySelector('.inner_ads').style.justifyContent = 'center';
                    val.querySelector('.inner_ads').style.alignItems = 'center';
                });

                document.querySelectorAll('.article_ads').forEach(function(val){
                    if(val.querySelectorAll('.banner_mobile_300x250').length>0){
                        val.style.paddingLeft = '0';
                        val.style.paddingRight = '0';
                    }
                });

                document.querySelectorAll('div[id*="_300x250"]').forEach(function(val){
                    val.style.width = '100vw !important';
                    val.style.overflow = 'hidden';
                    val.style.display = 'flex';
                    val.style.flexDirection = 'column';
                    val.style.justifyContent = 'center';
                    val.style.alignItems = 'center';                    

                });

            }catch(e){}



        }
        
        updateStickyBanner();
    }


   
    function onShowBtnClose()
    {
        try{
         
            var __script = document.createElement('script');
            __script.text = 'function onCloseAd(){var __btn = document.getElementById("div-btn-close");__btn.parentNode.style.display = "none";}';            
            let __devQuery = document.querySelector('div[id*="SA_728x90"]') || document.querySelector('div[id*="SA_320x50"]') || document.querySelector('div[id*="SB_1000x100"]');
            let __left = __devQuery.querySelector('iframe').offsetWidth - 21;            
            var __btnclose = document.createElement("div");
            __btnclose.setAttribute("id","div-btn-close");
            __btnclose.setAttribute("style","position:fixed;z-index:9999999;cursor:pointer;width:21px;height:21px;top:-11px;");
            __btnclose.style.backgroundImage = "url('https://static.eclick.vn/html5/lib/assets/btnClose.png')"; 
            __btnclose.style.left = __left + "px";            
            if(document.querySelector('div[id*="SB_1000x100"]')){
                __devQuery.querySelector('iframe').style.backgroundColor = "#FFF";
                __left = window.innerWidth / 2 + (document.querySelector('div[id*="SB_1000x100"]').querySelector('iframe').offsetWidth / 2) - 11; 
                __btnclose.style.left = __left + "px";
            }
            
            __btnclose.setAttribute("onclick","onCloseAd()");  
            __devQuery.appendChild(__script); 
            __devQuery.appendChild(__btnclose);
        }catch(e){}
       
    }

    function updateStickyBanner()
    {
        var _locationPath = (location.href).replace(location.search,'');           
        //PC
        if((location.host === 'vnexpress.net' || location.host === 'seo.vnexpress.net' || location.host === 'ngoisao.net' || location.host === 'demo-ns.ngoisao.net' || location.host === 'demo-e.vnexpress.net' || location.host === 'e.vnexpress.net' || location.host === 'demo-ione.vnexpress.net' || location.host === 'ione.vnexpress.net' || location.host === 'wcoin.fpt.com') && _detectMobile == false)
        {           
          
            try{
                document.querySelector('div[id*="SA_728x90"]').style.position = 'fixed';
                document.querySelector('div[id*="SA_728x90"]').style.bottom = '0';
                document.querySelector('div[id*="SA_728x90"]').style.left = '50%';
                document.querySelector('div[id*="SA_728x90"]').style.transform = 'translateX(-56%)';
                document.querySelector('div[id*="SA_728x90"]').style.zIndex = '999999999';

                onShowBtnClose();
               
            }catch(e){} 

            try{
                document.querySelector('div[id*="SA_970x90"]').style.position = 'fixed';
                document.querySelector('div[id*="SA_970x90"]').style.bottom = '0';
                document.querySelector('div[id*="SA_970x90"]').style.left = '50%';
                document.querySelector('div[id*="SA_970x90"]').style.transform = 'translateX(-50%)';
                document.querySelector('div[id*="SA_970x90"]').style.zIndex = '999999999';
            }catch(e){}

            //check sticky subfolder lý do cac id đang khác nhau          
            var _locationSubCorona =_locationPath.indexOf("dich-viem-phoi-corona");
            if(_locationSubCorona != -1){
                 try{
                    document.querySelector('div[id*="SB_1000x100"]').style.width = '100%';
                    document.querySelector('div[id*="SB_1000x100"]').style.position = 'fixed';
                    document.querySelector('div[id*="SB_1000x100"]').style.bottom = '0';
                    document.querySelector('div[id*="SB_1000x100"]').style.left = '50%';
                    document.querySelector('div[id*="SB_1000x100"]').style.transform = 'translateX(-50%)';
                    document.querySelector('div[id*="SB_1000x100"]').style.zIndex = '999999999';

                    document.getElementById('wrapper_footer').style.zIndex = '1';

                    onShowBtnClose();
                }catch(e){}
            }
                   
        }

        //Mobile
        if((location.host === 'vnexpress.net' || location.host === 'seo.vnexpress.net' || location.host === 'ngoisao.net' || location.host === 'demo-ns.ngoisao.net') && _detectMobile == true)
        {
           
            try{
                document.querySelector('div[id*="SA_320x50"]').style.position = 'fixed';
                document.querySelector('div[id*="SA_320x50"]').style.bottom = '0';
                document.querySelector('div[id*="SA_320x50"]').style.left = '50%';
                document.querySelector('div[id*="SA_320x50"]').style.transform = 'translateX(-50%)';
                document.querySelector('div[id*="SA_320x50"]').style.zIndex = '9';
                document.querySelector('div[id*="SA_320x50"]').style.display = 'flex !important';
                document.querySelector('div[id*="SA_320x50"]').style.justifyContent = 'center';

                onShowBtnClose();
            }catch(e){}   
        }
    }

    function fillElementWithAd($elId) {      
        var elId = $elId;
        googletag.cmd.push(function() {
          var slot = googletag.defineSlot('/27973503/Vnexpress.netPC/Desktop/In.Article1/Thegioi', ['fluid', [480, 270]], elId); 
          googletag.pubads().enableSingleRequest();           
          slot.addService(googletag.pubads());
          googletag.display(elId);
          googletag.pubads().refresh([slot]);
        });
    }

    //khai bao element ID VN_MB_VNE_HONE_MH_414x207
    const Masthead_Mobile_Ads = "VN_MB_Vne_Home_MH_414x207";  
    const Background_Sync_U = 'sync_bgu_and_masthead'; 
    const Breakspage_Mobile = 'breakspage_mobile';
    function onMessageReceivedGetStyle(e) { 
        /*try{
            var params = e.data.split(',');
            var action = params[0];
            switch (action)
            {
                case 'native-infinite-scroll':
                    fillElementWithAd(params[1]);
                break;
                default:
                    break;
            }

        }catch(e){}*/


        if (!(e.origin === 'http://tpc.googlesyndication.com' || e.origin === 'https://tpc.googlesyndication.com' ||
            typeof e.data !== 'object' ||
            e.data.cmd !== 'dfpSetStyle' ||
            typeof e.data.type !== 'string' ||
            typeof e.data.size !== 'string' ||   
            typeof e.data.query !== 'string' ||            
            typeof e.data.params !== 'object'
        )) { 
            return;
        } 
       

        try{
            var msgID = e.data.id; 
            var msgType = e.data.type;  
            var msgSize = e.data.size;      
             
            if(msgType === 'dfp-background-sync-u'){                               
                onStyleBgU(msgSize);            
            }
            
            if(msgType === 'dfp-masthead-mobile'){ 
                onStyleMastheadMobile(msgSize,msgID);   
            }
            
            if(msgType === 'dfp-breakspage-mobile'){ 
                onStyleBreakPageMobile(msgSize);   
            }
            
            if(msgType === 'inpage_dfp_iframe'){
                //console.log('inpage_dfp_iframe => from dfphelper');
                onStyleInpageDFP();
            }

            if(msgType === 'native_shop_dfp'){
                onStyleNativeShop();
            }

            //QueryElement
            //onQueryElement(e,_elementId);
        }catch(e){}
        
        
    }
    
    function onQueryElement($event, $elementId){
        /*var elementId = $event.data.id.replace(/#/, "");*/        
        try{
            var wrapperEl = document.getElementById($elementId);
            if (wrapperEl === null) {
                return;
            } 
            var elements = [wrapperEl];    
            if (typeof $event.data.query === 'string' && $event.data.query) {
                elements = wrapperEl.querySelectorAll($event.data.query);
            }            
            elements.forEach(function (element) {
                Object.keys($event.data.params).forEach(function (param) {
                    element.style[param] = $event.data.params[param];                
                });
            });
        }catch(e){}        
    }
    
    var _msg_size_native_shop = null;
    var _elmIfrNativeShop = null;
    function onStyleNativeShop()
    {
        
        var _wrapperEl = document.querySelector('div[id*="NS_1x1"]');
        console.log('onStyleNativeShop',getMeta('its_tag'), _wrapperEl);

        if (_wrapperEl === null || _detectMobile == true) return;   

        var elements = [_wrapperEl];        
        var _elmDiv = _wrapperEl.querySelectorAll('div')[0];
        _elmIfrNativeShop = _wrapperEl.querySelectorAll('iframe')[0]; 

        _elmIfrNativeShop.contentWindow.postMessage('dfpHelperJs,0,0','*');

    }



    var _msg_size_masthead_mobile = null;
    var _elmIfrMastheadMobile = null;
    function onStyleMastheadMobile($msgSize=null,$msgID=null)
    {       
        var _wrapperEl = document.getElementById(Masthead_Mobile_Ads) || document.getElementById('banner_top') || document.getElementById('TOP_BANNER') || document.getElementById('div-gpt-ad-1531105814734-0');  

       
        if (_wrapperEl === null || _detectMobile == false) return;   

        var elements = [_wrapperEl];        
        var _elmDiv = _wrapperEl.querySelectorAll('div')[0];
        _elmIfrMastheadMobile = _wrapperEl.querySelectorAll('iframe')[0]; 
        
        //if(_elmIfrMastheadMobile)_elmIfrMastheadMobile.contentWindow.postMessage('stop-postmsg','*');
       
        if($msgSize!=null){
            _msg_size_masthead_mobile = $msgSize;
            _msg_size_masthead_mobile = _msg_size_masthead_mobile.split("x");
        } 
        var _sizeW = _msg_size_masthead_mobile[0];
        var _sizeH = _msg_size_masthead_mobile[1];
        
        
       // _elmIfrMastheadMobile.style.width = '100%';
       // _elmIfrMastheadMobile.style.height = (_sizeH*_elmIfrMastheadMobile.offsetWidth)/_sizeW + 'px'; 
        _elmIfrMastheadMobile.style.width = screen.width + 'px';      
        _elmIfrMastheadMobile.style.height = (_sizeH*screen.width)/_sizeW + 'px';       
        
        //console.log(window.innerWidth, screen.width, (_sizeH*window.innerWidth)/_sizeW);

        if($msgID === 'yomedia'){
            try{
                _elmDiv = _elmIfrMastheadMobile.parentElement;
                _elmDiv.style.width = "100vw";
                _elmDiv.style.height = "auto";
            }catch(e){}           
        }


        onCheckResizeWindown();       
    }
    
    var _msg_size_breakpage_mobile = null;
    var _elmIfrBreakPage = null;
    function onStyleBreakPageMobile($msgSize=null){
        var _wrapperEl = document.getElementById(Breakspage_Mobile) || document.getElementById('breakspage_mobile') || document.querySelector('div[id*="BP_414x345"]');
        
        if (_wrapperEl === null)return; 

        var elements = [_wrapperEl];        
        var _elmDiv = _wrapperEl.querySelectorAll('div')[0];
        _elmIfrBreakPage = _wrapperEl.querySelectorAll('iframe')[0]; 

        if($msgSize!=null){
            _msg_size_breakpage_mobile = $msgSize;
            _msg_size_breakpage_mobile = _msg_size_breakpage_mobile.split("x");
        } 
        var _sizeW = _msg_size_breakpage_mobile[0];
        var _sizeH = _msg_size_breakpage_mobile[1];

        _elmIfrBreakPage.style.width = '100%';
        _elmIfrBreakPage.style.height = (_sizeH*_elmIfrBreakPage.offsetWidth)/_sizeW + 'px';
     
        onCheckResizeWindown();
    }


    var _elmIfrInpage = null;
	var _elmDivInpage = null;
    function onStyleInpageDFP()
    {
        var _wrapperEl = document.getElementById('admbackground');

        
        if (_wrapperEl === null) return; 

        var elements = [_wrapperEl];       
       
        _elmIfrInpage = _wrapperEl.querySelectorAll('iframe')[0]; 
		
		_elmDivInpage = _elmIfrInpage.parentNode;
		_elmDivInpage.style.maxWidth = 'calc(100% - 30px)';

       
        _elmIfrInpage.style.width = 'calc(100vw - 30px)';
        _elmIfrInpage.style.height = 'calc(100vh - 44px)';
        _elmIfrInpage.style.marginTop = '44px';
		
        //height: calc(100vh - 44px);
		
        _elmIfrInpage.style.maxWidth = '590px';
        _elmIfrInpage.style.minWidth = 0;  


         onCheckResizeWindown();    
    }


    function onStyleBgU($size)
    {        
        var _wrapperEl = document.getElementById("sync_bgu_and_masthead") || document.getElementById('background_sync_u') || document.getElementById('sync_bgu_and_masthead');
        console.log('_wrapperEl',_wrapperEl);
        if (_wrapperEl === null) return; 

        var elements = [_wrapperEl];        
        var _elmDiv = _wrapperEl.querySelectorAll('div')[0];
        var _elmIfr = _wrapperEl.querySelectorAll('iframe')[0]; 
        //console.log(_elmDiv, _elmIfr, location.host);        
        
        var _locationPath = (location.href).replace(location.search,'');         
        var _locationSub1 =_locationPath.indexOf("world-cup-2022");
        var _locationSub2 =_locationPath.indexOf("sea-games-2019");
        var _locationSub3 =_locationPath.indexOf("u23-chau-a-2020");
        var _locationSub4 =_locationPath.indexOf("dich-viem-phoi-corona");
        
        if(_locationSub1 != -1 || _locationSub2 != -1 || _locationSub3 != -1 | _locationSub4 != -1){
           if(location.pathname.indexOf("infographics") != -1){
                console.log('infographics sea-games-2019');
                return;
                try{
                    document.getElementById('sync_bgu_and_masthead').style.zIndex = -9999;
                    document.getElementsByClassName("block_ads_connect")[0].querySelector('div.width_common').style.display = "flex";
                    document.getElementsByClassName("block_ads_connect")[0].querySelector('div.width_common').style.justifyContent  = "center";
                    document.getElementsByClassName("width_common")[0].style.backgroundColor = '#FFF';
                    document.getElementsByClassName("box_banner--full")[0].classList.remove('box_banner--full');
                    document.getElementsByClassName("section_footer")[0].style.backgroundColor = '#FFF';
                    document.getElementsByClassName("section_footer")[0].style.zIndex = '9999';
                    document.getElementById('div-gpt-ad-1567166300651-6').parentNode.style.marginBottom  = 0;
                    document.getElementById('div-gpt-ad-1567166300651-6').parentNode.style.backgroundColor = '#FFF';                    
                }catch(e){}
            }
            _elmIfr = document.getElementById('sync_bgu_and_masthead').querySelectorAll('iframe')[0];
            _elmIfr.style.position = 'fixed';
            _elmIfr.style.top = '60px';
            _elmIfr.style.left = '0';
            _elmIfr.style.width = '100%';
            _elmIfr.style.height = '100%';
            document.getElementsByClassName("section_main_container")[0].querySelector('div.container').style.top = '82px';
            document.getElementById('wrapper_footer').style.position = 'relative';
            document.getElementById('wrapper_footer').style.top = '82px';            
            /*document.getElementById('sync_bgu_and_masthead').classList.remove("mb20");
            document.getElementById('sync_bgu_and_masthead').style.marginTop = '20px';*/
           
        }  



        //_localtionNS = _locationPath.indexOf("ngoisao.net"); 
        if(location.host === 'ngoisao.net' || location.host === 'demo.ngoisao.net' || location.host === 'wcoin.fpt.com'){  
            var _hTOP = $size;
            var _hTOPBG = 237;
            if(_hTOP == "250px"){_hTOP = 247;_hTOPBG=367;}else{_hTOP = 117;_hTOPBG=237}

            _elmIfr = document.getElementById('sync_bgu_and_masthead').querySelectorAll('iframe')[0];  
            _elmIfr.style.position = 'absolute';
            _elmIfr.style.top = '117px';
            _elmIfr.style.left = '50%';
            _elmIfr.style.width = '100vw';
            _elmIfr.style.height = 'calc(100vh + '+_hTOP+'px)';
            _elmIfr.style.transform = 'translateX(-50%)';
          
            if(document.getElementById('breadcrumb')){ 
                document.getElementById('breadcrumb').style.marginTop = _hTOP + 'px';
            }

            if(document.querySelector('.featured.container')){
                document.querySelector('.featured.container').style.marginTop = _hTOP + 'px';
            }

            document.querySelector('body').style.backgroundColor = '#ffffff';
            document.querySelector('footer').style.maxWidth = '1100px';
            document.querySelector('footer').style.margin = '0 auto';
            document.getElementById('sync_bgu_and_masthead').style.display = 'block';

            if(!document.getElementById('bgWhite')){
                document.getElementById('sync_bgu_and_masthead').querySelector('div').insertAdjacentHTML('beforeend','<div id="bgWhite" style="width:100vw;height:100vh;max-width:1130px;z-index:0;position:absolute;top:'+_hTOPBG+'px;left:50%;transform:translateX(-50%);background-color:#fff"></div>');
            }
      

            window.onscroll = function(){
                if(document.body.scrollTop > _hTOP || document.documentElement.scrollTop > _hTOP)
                {
                    _elmIfr.style.position = 'fixed';
                    _elmIfr.style.top = null;
                    _elmIfr.style.bottom = '-117px';
                    _elmIfr.style.zIndex = '-2';
                }else{
                    _elmIfr.style.position = 'absolute';
                    _elmIfr.style.top = '117px';
                    _elmIfr.style.bottom = null;
                    _elmIfr.style.zIndex = '0';
                }
                
                if(document.body.scrollTop > _hTOPBG || document.documentElement.scrollTop > _hTOPBG)
                {
                    document.getElementById('bgWhite').style.position = 'fixed';
                    document.getElementById('bgWhite').style.top = '0';
                    document.getElementById('bgWhite').style.zIndex = '-1';
                }else{
                    document.getElementById('bgWhite').style.position = 'absolute';
                    document.getElementById('bgWhite').style.top = _hTOPBG + 'px';
                    document.getElementById('bgWhite').style.zIndex = '0';
                }
            }

        }   

        //update bg_u cho vne-redesign > after update domain-name
        if(location.host === 'demo.vnexpress.net' || location.host === 'wcoin.fpt.com' || location.host === 'vnexpress.net' || location.host === 'beta.vnexpress.net'){  

            //fix tam detail redesign
        try{
            document.getElementsByClassName("top-detail")[0].style.backgroundColor = "transparent";
            document.getElementsByClassName("top-detail")[0].style.border = "none"; 
            var _locationSubTamSu = _locationPath.indexOf("tam-su");
            if(_locationSubTamSu != -1){
                document.getElementsByClassName("section_folder_tamsu")[0].style.backgroundColor = "transparent";
                document.getElementsByClassName("pt0")[0].style.backgroundColor = "transparent";
            }                   
            
       }catch(e){}
           


            var _hTOP = $size;
            var _hTOPBG = 237;
            var _hTOPIfr = 100;
            if(_hTOP == "250px"){
				_hTOP = 247;_hTOPBG=350;				
			}else if(_hTOP == "220px"){_hTOP = 217;_hTOPBG = 320;
			}else{_hTOP = 117;_hTOPBG = 237;}

            try{
                if(document.getElementsByClassName("switch_version")[0]){
                    _hTOPIfr = _hTOPIfr + 40;
                    _hTOPBG = _hTOPBG + 40;
                } 
            }catch(e){}

            _elmIfr = document.getElementById('sync_bgu_and_masthead').querySelectorAll('iframe')[0];  
            _elmIfr.style.position = 'absolute';
            _elmIfr.style.top = _hTOPIfr + 'px';
            _elmIfr.style.left = '50%';
            _elmIfr.style.width = '100vw';
            _elmIfr.style.height = 'calc(100vh + '+_hTOP+'px)';
            _elmIfr.style.transform = 'translateX(-50%)';
          
            if(document.getElementById('breadcrumb')){ 
                document.getElementById('breadcrumb').style.marginTop = _hTOP + 'px';
            }

            if(document.querySelector('.featured.container')){
                document.querySelector('.featured.container').style.marginTop = _hTOP + 'px';
            }

            document.querySelector('body').style.backgroundColor = '#ffffff';
            document.querySelector('footer').style.maxWidth = '1130px';
            document.querySelector('footer').style.margin = '0 auto';
            document.getElementById('sync_bgu_and_masthead').style.display = 'block';
			document.getElementById('sync_bgu_and_masthead').style.height = _hTOP + 'px';

            if(!document.getElementById('bgWhite')){
                document.getElementById('sync_bgu_and_masthead').querySelector('div').insertAdjacentHTML('beforeend','<div id="bgWhite" style="width:100vw;height:100vh;max-width:1130px;z-index:0;position:absolute;top:'+_hTOPBG+'px;left:50%;transform:translateX(-50%);background-color:#fff"></div>');
            }
      

            window.onscroll = function(){
                if(document.body.scrollTop > _hTOP || document.documentElement.scrollTop > _hTOP)
                {
                    _elmIfr.style.position = 'fixed';
                    _elmIfr.style.top = null;
                    _elmIfr.style.bottom = '-117px';
                    _elmIfr.style.zIndex = '-2';
                }else{
                    _elmIfr.style.position = 'absolute';
                    _elmIfr.style.top = _hTOPIfr + 'px';
                    _elmIfr.style.bottom = null;
                    _elmIfr.style.zIndex = '0';
                }
                
                if(document.body.scrollTop > _hTOPBG || document.documentElement.scrollTop > _hTOPBG)
                {
                    document.getElementById('bgWhite').style.position = 'fixed';
                    document.getElementById('bgWhite').style.top = '0';
                    document.getElementById('bgWhite').style.zIndex = '-1';
                }else{
                    document.getElementById('bgWhite').style.position = 'absolute';
                    document.getElementById('bgWhite').style.top = _hTOPBG + 'px';
                    document.getElementById('bgWhite').style.zIndex = '0';
                }


                try{                   
                    if(_locationPath.indexOf("tam-su") != -1){
                        document.getElementsByClassName("section_folder_tamsu")[0].style.backgroundColor = "transparent";
                        document.getElementsByClassName("pt0")[0].style.backgroundColor = "transparent";
                    }  
                }catch(e){}
            }

        }      
        
        
    }   

    /*console.log('its_tag 123',getMeta('its_tag'));*/
    function getMeta(metaName) 
    {
      const metas = document.getElementsByTagName('meta');
      for (let i = 0; i < metas.length; i++) {
        if (metas[i].getAttribute('name') === metaName) {
          return metas[i].getAttribute('content');
        }
      }
      return '';
    }

    

    function onCheckResizeWindown()
    {        
        if(_elmIfrMastheadMobile != null){
            if(window.innerWidth > window.innerHeight){
                _elmIfrMastheadMobile.style.width = '0px';
                _elmIfrMastheadMobile.style.height = '0px'; 
                try{
                    document.getElementById('banner_top').style.minHeight = '0px';                 
                    document.getElementById('TOP_BANNER').style.minHeight = '0px';  
                }catch(e){}   
                
            }else{
                //_elmIfrMastheadMobile.style.width = '100%';
                // _elmIfrMastheadMobile.style.height = (_msg_size_masthead_mobile[1]*_elmIfrMastheadMobile.offsetWidth)/_msg_size_masthead_mobile[0] + 'px';    

                _elmIfrMastheadMobile.style.width = screen.width + 'px';      
                _elmIfrMastheadMobile.style.height = (_msg_size_masthead_mobile[1]*screen.width)/_msg_size_masthead_mobile[0] + 'px';       
                //console.log(window.innerWidth, screen.width, (_msg_size_masthead_mobile[1]*screen.width)/_msg_size_masthead_mobile[0]);
                try{
                   var _elmDivMastheadMobile = _elmIfrMastheadMobile.parentElement;
                    _elmDivMastheadMobile.style.width = "100vw";
                    _elmDivMastheadMobile.style.height = "auto";
                }catch(e){}           
                            
            }//console.log('onStyleMastheadMobile : ', _msg_size_masthead_mobile, _elmIfrMastheadMobile.offsetWidth, _elmIfrMastheadMobile.offsetHeight);
            
        }

        if(_elmIfrBreakPage != null){          
            _elmIfrBreakPage.style.width = '100%';
            _elmIfrBreakPage.style.height = (_msg_size_breakpage_mobile[1]*_elmIfrBreakPage.offsetWidth)/_msg_size_breakpage_mobile[0] + 'px';   
            //console.log('onStyleBreakPageMobile : ', _msg_size_breakpage_mobile, _elmIfrBreakPage.offsetWidth, _elmIfrBreakPage.offsetHeight);  
        } 

        if(_elmIfrInpage != null){
			_elmDivInpage = _elmIfrInpage.parentNode;
			_elmDivInpage.style.maxWidth = 'calc(100% - 30px)';
           // _elmIfrInpage.style.width = (window.innerWidth) - 30 + 'px';
            _elmIfrInpage.style.maxWidth = '590px';
           
            _elmIfrInpage.style.minWidth = 0;  
            _elmIfrInpage.style.width = 'calc(100vw - 30px)';
            _elmIfrInpage.style.height = 'calc(100vh - 44px)';
            _elmIfrInpage.style.marginTop = '44px';
        }       
    }

    function onCheckOrientation()
    {
       
        setTimeout(function(){
             console.log('onCheckOrientation', window.innerWidth, window.innerHeight);
            onCheckResizeWindown();          
        }, 1000);
    }
    

    function onCheckScroll()
    {
           // OV_PC_NS_SA_728x90
    }


    if (window.addEventListener) {
        addEventListener('message', onMessageReceivedGetStyle, false);
        addEventListener("resize", onCheckResizeWindown, false);
        addEventListener("orientationchange", onCheckOrientation, false);
        addEventListener("scroll", onCheckScroll, false);
    }
    else {
        if (window.attachEvent) {
            attachEvent('onmessage', onMessageReceivedGetStyle);
            attachEvent("onresize", onCheckResizeWindown);
            attachEvent("onorientationchange", onCheckOrientation);
            attachEvent("onscroll", onCheckScroll);
        }
        else {
            window.onmessage = onMessageReceivedGetStyle;
            window.onresize = onCheckResizeWindown;
            window.onorientationchange = onCheckOrientation;
            window.onscroll = onCheckScroll;
        }
    } 

    if(document.readyState === 'complete') {
        onDomReadyFunction();
    } else {
        if (window.addEventListener) {  
            window.addEventListener('load', onDomReadyFunction, false);
        } else {
            window.attachEvent('onload', onDomReadyFunction);
        }
    }

})()

try{(function(f,m,C,q){(function(){if("undefined"!==typeof localStorage)try{return localStorage.setItem("egguuu","yes"),"yes"===localStorage.getItem("egguuu")?(localStorage.removeItem("egguuu"),!0):!1}catch(a){return!1}else return!1})();var Q=f.encodeURIComponent,U=f.decodeURIComponent,ca=unescape,R=navigator,V=function(a,b){var d=new XMLHttpRequest;d.open("GET",a,!0);d.responseType="json";d.onload=function(){var c=d.status;200===c?b(null,d.response):b(c,d.response)};d.onerror=function(){b("error",
{})};d.send()},v=function(a){return(a=(new RegExp("(^|;)[ ]*"+a+"=([^;]*)")).exec(m.cookie))?U(a[2]):""},w=function(a,b,d,c){var e=document.domain.split(".");!d&&(d=0);!c&&(c=31449600);if(1<e.length&&b)for(var h="."+e[e.length-1],n=e.length-2;0<=n;n--){h="."+e[n]+h;var l=void 0,D=a,E=b,u=c,g=h;u&&(l=new Date,l.setTime(l.getTime()+1E3*u));m.cookie=D+"="+Q(E)+(u?";expires="+l.toGMTString():"")+";path=/"+(g?";domain="+g:"");if(v(a)==b){0==d&&(d=window,e=window.name,h=a,n=b,-1<e.indexOf("&"+h+"=")||0===
e.indexOf(h+"=")?(l=e.indexOf("&"+h+"="),-1===l&&(l=e.indexOf(h+"=")),c=e.indexOf("&",l+1),c=-1!==c?e.substr(0,l)+e.substr(c+(l?0:1))+"&"+h+"="+n:e.substr(0,l)+"&"+h+"="+n):c=e+"&"+h+"="+n,d.name=c,window.localStorage&&"function"==typeof window.localStorage.setItem&&window.localStorage.setItem(a,b));break}}};q=function(){V("http://g.eclick.vn/iplocation",function(a,b){if(""==v("fosp_loc"))if(b.data&&b.data.country_code)F=[b.data.province_id,b.data.region_id,b.data.country_code].join("-"),w("fosp_loc",
F,0,86400);else{var d="https://ipinfo.io/json";b.ip&&(d="https://ipinfo.io/"+b.ip+"/json");V(d,function(c,e){e.region&&e.country&&""==v("fosp_loc")&&(F=[e.region,"0",e.country].join("-"),w("fosp_loc",F,0,86400))})}})};var F=v("fosp_loc");""==F&&q();var J=function(a){var b=v(a)||"",d=(new RegExp("(^|&)[ ]*"+a+"=([^&]*)","i")).exec(window.name);d=d&&2<d.length&&window.decodeURIComponent(d[2])||"";var c="";window.localStorage&&"function"==typeof window.localStorage.getItem&&(c=window.localStorage.getItem(a));
return b||c||d},W="---",S=function(){for(var a="",b=0;16>b;b++)a+="abcdefghijklmnopqrstuvwxyz0123456789".charAt(Math.floor(36*Math.random()));return a=a+"."+Math.floor((new Date).getTime()/1E3)};q=function(a){if(m.cookie!=W||2==a){W=m.cookie;var b=parseInt("0"+v("myvne_user_id"))||0,d=v("fosp_aid"),c=v("orig_aid");a=J("fosp_aid")||"";var e=J("orig_aid")||"";if(1E4<b)d!=b&&(w("fosp_aid",b),d!=c&&(e=12<a.length?a:12<e.length?e:S(),w("orig_aid",e)));else if(""!=a&&a==parseInt("0"+a))w("fosp_aid",e);
else if(""!=e&&e!=parseInt("0"+e))w("fosp_aid",e),w("orig_aid",e);else if(d!=c||""==d||""==c)b=12<a.length?a:12<e.length?e:S(),a!=b&&w("fosp_aid",b),e!=b&&w("orig_aid",b)}};"undefined"==typeof window.FospAnalyticsNew&&(f.setInterval(q,1E3),q(2));var K=!1,L=f._logEgg||(f._logEgg=[]);q=f.PAGE_DETAIL||0;a:{if(R=this.navigator)if(C=R.userAgent){var T=C;break a}T=""}var M=function(a){return-1!=T.toLowerCase().indexOf(a.toLowerCase())},X=function(a){var b=function(N,G){return N<<G|N>>>32-G},d=function(N){var G=
"",O;for(O=7;0<=O;O--)G+=(N>>>4*O&15).toString(16);return G},c,e=[],h=1732584193,n=4023233417,l=2562383102,D=271733878,E=3285377520,u=[];a=ca(Q(a));var g=a.length;for(c=0;c<g-3;c+=4){var p=a.charCodeAt(c)<<24|a.charCodeAt(c+1)<<16|a.charCodeAt(c+2)<<8|a.charCodeAt(c+3);u.push(p)}switch(g&3){case 0:c=2147483648;break;case 1:c=a.charCodeAt(g-1)<<24|8388608;break;case 2:c=a.charCodeAt(g-2)<<24|a.charCodeAt(g-1)<<16|32768;break;case 3:c=a.charCodeAt(g-3)<<24|a.charCodeAt(g-2)<<16|a.charCodeAt(g-1)<<8|
128}for(u.push(c);14!==(u.length&15);)u.push(0);u.push(g>>>29);u.push(g<<3&4294967295);for(a=0;a<u.length;a+=16){for(c=0;16>c;c++)e[c]=u[a+c];for(c=16;79>=c;c++)e[c]=b(e[c-3]^e[c-8]^e[c-14]^e[c-16],1);p=h;g=n;var r=l,t=D,x=E;for(c=0;19>=c;c++){var y=b(p,5)+(g&r|~g&t)+x+e[c]+1518500249&4294967295;x=t;t=r;r=b(g,30);g=p;p=y}for(c=20;39>=c;c++)y=b(p,5)+(g^r^t)+x+e[c]+1859775393&4294967295,x=t,t=r,r=b(g,30),g=p,p=y;for(c=40;59>=c;c++)y=b(p,5)+(g&r|g&t|r&t)+x+e[c]+2400959708&4294967295,x=t,t=r,r=b(g,30),
g=p,p=y;for(c=60;79>=c;c++)y=b(p,5)+(g^r^t)+x+e[c]+3395469782&4294967295,x=t,t=r,r=b(g,30),g=p,p=y;h=h+p&4294967295;n=n+g&4294967295;l=l+r&4294967295;D=D+t&4294967295;E=E+x&4294967295}y=d(h)+d(n)+d(l)+d(D)+d(E);return y.toLowerCase()},da=function(a,b,d){return a.call.apply(a.bind,arguments)},ea=function(a,b,d){if(!a)throw Error();if(2<arguments.length){var c=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(e,c);return a.apply(b,
e)}}return function(){return a.apply(b,arguments)}},A=function(a,b,d){A=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?da:ea;return A.apply(null,arguments)},B=function(a,b,d,c){a.addEventListener?a.addEventListener(b,d,!!c):a.attachEvent?a.attachEvent("on"+b,d):a["on"+b]=d},H=function(a,b,d,c){a.removeEventListener?a.removeEventListener(b,d,!!c):a.detachEvent?a.detachEvent("on"+b,d):a["on"+b]=null},Y=function(a){var b=/^(?:(?:https?|ftp):)\/*(?:[^@]+@)?([^:/#]+)/.exec(a);
return b?b[1]:a},fa=function(a,b){var d=new Image(1,1);if(b){var c=function(e){b(e);H(d,"load",c,!1);H(d,"error",c,!1)};B(d,"load",c,!1);B(d,"error",c,!1)}d.src=a};C=function(a){var b;m.addEventListener?B(m,"DOMContentLoaded",function c(){H(m,"DOMContentLoaded",c,!1);a()},!1):m.attachEvent&&(B(m,"onreadystatechange",function e(){"complete"===m.readyState&&(H(m,"onreadystatechange",e,!1),a())},!1),m.documentElement.doScroll&&f===f.top&&function h(){if(!K){try{m.documentElement.doScroll("left")}catch(n){setTimeout(h,
0);return}a()}}());/WebKit/.test(R.userAgent)&&(b=setInterval(function(){if(K||/loaded|complete/.test(m.readyState))clearInterval(b),a()},10));B(f,"load",a,!1)};var Z=function(a){var b={},d;for(d in a)if(a.hasOwnProperty(d)){var c=a[d],e=typeof c;b[d]="function"===e||"object"===e&&c?Z(a[d]):a[d]}return b},aa=function(a){return null===a?!1:"function"===typeof a||"object"===typeof a},I=function(){this.location_url=f.location_url||f.location.href;this.site_id=parseInt("0"+f.SITE_ID);this.pageview_id=
this.my_vne=this.fosp_loc=this.fosp_aid=this.uid=null;this.meta={};this.article_id=0;this.action_name="profile_update play pageview buy addtocart checkout read like comment save fblike fbshare twitter ggplus".split(" ");this.action="pageview";this.host=this.referer=this.link_ref=null;this.platform="1";this.algoRead=this.totalRead=this.readStart=0;this.scrollEvent=!1;this.scrollTimer=0;this.container=null;this.type="text";this.playEmbed=0;this.logEggType={ts_1:0,ts_2:0,ts_3:0,ts_4:0,ts_5:0,ts_6:0,
ts_7:0,ts_8:0,ts_9:0,ts_10:0};this.vnTracking=function(){for(var a=f.dataLayer||{},b=0;b<a.length;b++){var d=a[b],c;for(c in d)if("vn_source"==c||"vn_campaign"==c||"vn_medium"==c||"vn_zone"==c)this.meta[c]=d[c]}};this.init=function(){var a=J("fosp_aid"),b=J("orig_aid");if(!a||""==a||"null"==a){var d;a=(d=/(^|&)[ ]*fosp_aid=([^&]*)/.exec(f.name))?U(d[2]):S()}this.fosp_aid=a.substr(0,40);this.uid=b?b.substr(0,40):this.fosp_aid;this.fosp_loc=F;this.my_vne=v("myvne_user_id");this.pageview_id=X(Math.random()+
this.fosp_aid+Date.now()).substr(0,32);d={};a=m.getElementsByTagName("meta");b=0;for(var c=a.length,e=a[b];b<c;e=a[++b]){var h=e.getAttribute("name");e=e.getAttribute("content");null!=h&&(d[h]=e)}this.meta=d;this.article_id=this.meta.its_id||0;this.ref_id=this.meta.its_ref||0;d="";try{d=f.top.document.referrer}catch(n){if(f.parent)try{d=f.parent.document.referrer}catch(l){d=""}}""===d&&(d=m.referrer);this.link_ref=d;this.referer=Y(d);this.host=Y(f.location.href);/Mobile|iP(hone|od|ad)|Android|BlackBerry|IEMobile|Kindle|NetFront|Silk-Accelerated|(hpw|web)OS|Fennec|Minimo|Opera M(obi|ini)|Blazer|Dolfin|Dolphin|Skyfire|Zune/i.test(T)&&
(this.platform="2",M("iPad")||M("Android")&&!M("Mobile")||M("Silk"))&&(this.platform="3");this.meta.hasOwnProperty("its_type")&&(this.type=this.meta.its_type||"text");this.vnTracking()};this.eventBeforeUnLoad=function(a){f.setTimeout(A(this.actualRead,this),0);return!0};this.actualRead=function(){var a=Date.now();if(0<this.readStart){this.algoRead+=a-this.readStart;var b=Math.min(100,Math.floor(100*this.algoRead/this.totalRead));b=Math.floor(b/10);this.logEggType.hasOwnProperty("ts_"+b)&&!this.logEggType["ts_"+
b]&&(this.logEggType["ts_"+b]=1,this.sendLog({action:"read",ratio:10*b}));10==b&&(this.scrollEvent&&f.clearTimeout(this.scrollEvent),H(f,"scroll",ba,!1))}this.readStart=a};this.eventVideo=function(a){if(a.detail&&a.detail.type){var b=0;switch(a.detail.type){case "videoComplete":b=100;break;case "videoStart":b=0;break;case "videoPlay":b=0;break;case "videoProgress":b=(""+(a.detail&&a.detail.percent)).replace("%",""),b=1*parseInt(b)}a=Math.floor(.1*b);this.logEggType.hasOwnProperty("ts_"+a)&&!this.logEggType["ts_"+
a]&&(this.logEggType["ts_"+a]=1,this.sendLog({action:"play",type:"video",ratio:b}))}};this.eventInterval=function(){if("video"==this.type||"play"==this.action)return!1;var a=!0;3>this.scrollTimer?0<this.readStart&&(this.scrollEvent&&f.clearTimeout(this.scrollEvent),this.scrollEvent=f.setTimeout(A(this.eventInterval,this),5E3)):a=!1;this.actualRead();a||(this.readStart=0);this.scrollTimer+=1};this.eventScroll=function(){this.scrollTimer=0;var a=!1;if(this.container){var b=this.container.getBoundingClientRect();
b&&b.top<f.innerHeight&&0<b.bottom?a=!0:this.readStart=0}a&&(this.scrollEvent&&f.clearTimeout(this.scrollEvent),this.scrollEvent=f.setTimeout(A(this.eventInterval,this),500))};this.initReady=function(){var a=this.meta.hasOwnProperty("its_wordcount")&&parseInt(this.meta.its_wordcount,10)||0;if("video"==this.type||"play"==this.action)this.totalRead=0<a?1E3*a:0,B(f,"PlayerCustomEvent",A(this.eventVideo,this),!1);else{var b=m.getElementsByClassName("block_ads_connect");0==b.length&&(b=m.getElementsByClassName("fck_detail"),
0==b.length&&(b=m.getElementsByTagName("body")));0<b.length&&b[0].innerText&&(this.container=b[0],b=b[0].innerText.match(/[\w\.]+?([\.']\w+?)?([\s\.',\):\]]+|$)/gi).length,b=Math.max(b,a),this.totalRead=1E3*Math.round(b/(200<b?5:6)))}1>this.totalRead&&(this.totalRead=1);this.readStart=Date.now();this.eventInterval()}};I.prototype.sendLog=function(a){var b;a.hasOwnProperty("action")&&(b=-1<this.action_name.indexOf(a.action)?a.action:null);if(b){for(var d=this.meta,c="vn_zone vn_source vn_medium vn_campaign its_name its_url its_id its_title its_section its_subsection its_tag its_topic its_object its_embed its_author its_type its_wordcount its_publication".split(" "),
e=0,h=c.length;e<h;e++){var n=c[e];d.hasOwnProperty(n)&&(a[n]=d[n])}a.platform=this.platform;a.fosp_loc=this.fosp_loc;a.referer=this.referer;a.link_ref=this.link_ref;a.location_url=this.location_url;a.site_id=this.site_id;d=[];delete a.its_id;delete a.its_ref;for(var l in a)aa(a[l])||d.push(l+"="+Q(a[l]));if(1>this.article_id&&-1<" play pageview buy addtocart checkout read like comment save fblike fbshare twitter ggplus".indexOf(a.action))return!1;d.push("its_id="+this.article_id);d.push("its_ref="+
this.ref_id);d.push("fosp_aid="+this.fosp_aid);d.push("uid="+this.uid);d.push("my_vne="+this.my_vne);d.push("play_embed="+this.playEmbed);d.push("pageview_id="+this.pageview_id);fa("https://la3.vnecdn.net/"+b+"/?"+d.join("&"),function(){});return!0}};if(L.push===Array.prototype.push){var k=new I;k.init();k.sendLog({action:"pageview"});if(q){var ba=A(k.eventScroll,k);C(function(){K||(k.initReady(),B(f,"scroll",ba,!1));K=!0})}var z={egg:k},P=function(a){var b="play"==a.action?"play":"egg",d=a.meta&&
a.meta.its_id||a.id||k.article_id;b=d==k.article_id?b:b+d;if(!(z[b]&&z[b]instanceof I)){var c=new I;c.action=a.action;c.playEmbed=a.play_embed||0;c.fosp_aid=k.fosp_aid;c.uid=k.uid;c.fosp_loc=k.fosp_loc;c.my_vne=k.my_vne;c.pageview_id="pageview"==a.action?X(Math.random()+k.fosp_aid+Date.now()).substr(0,32):k.pageview_id;c.meta=k.meta;c.article_id=d;c.ref_id=k.article_id;c.referer=k.host;c.link_ref=k.link_ref;c.location_url="pageview"==a.action?f.location.href:k.location_url;c.platform=k.platform;if(a.meta&&
aa(a.meta))for(var e in a.meta)c.meta[e]=a.meta[e];c.vnTracking();c.type=a.meta&&a.meta.its_type?a.meta.its_type:k.type;for(var h in z)z.hasOwnProperty(h)&&z[h]instanceof I&&z[h].type==c.type&&(z[h].logEggType={});c.initReady();z[b]=c}return z[b]};C=function(a){if("[object Object]"!==Object.prototype.toString.call(a))return!1;P(a).sendLog(a);return 1};q=0;for(var ha=L.length;q<ha;++q)C(L[q]);L.push=function(a){P(a).sendLog(a);"pageview"==a.action&&a.meta&&"video"==a.meta.its_type&&(a=Z(a),a.action=
"play",a.ratio=0,P(a).sendLog(a))};1003834==f.SITE_ID&&"pageview"==k.action&&"video"==k.type&&(q={action:"play",ratio:0},P(q).sendLog(q))}})(window,document,location,history)}catch(f){console.log("egg:",f)};